{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  /*\n   * Copyright 2019 gRPC authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   */\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.validateLoadBalancingConfig = exports.getFirstUsableConfig = exports.isLoadBalancerNameRegistered = exports.createLoadBalancer = exports.registerDefaultLoadBalancerType = exports.registerLoadBalancerType = exports.createChildChannelControlHelper = void 0;\n  /**\n   * Create a child ChannelControlHelper that overrides some methods of the\n   * parent while letting others pass through to the parent unmodified. This\n   * allows other code to create these children without needing to know about\n   * all of the methods to be passed through.\n   * @param parent\n   * @param overrides\n   */\n  function createChildChannelControlHelper(parent, overrides) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    return {\n      createSubchannel: (_b = (_a = overrides.createSubchannel) === null || _a === void 0 ? void 0 : _a.bind(overrides)) !== null && _b !== void 0 ? _b : parent.createSubchannel.bind(parent),\n      updateState: (_d = (_c = overrides.updateState) === null || _c === void 0 ? void 0 : _c.bind(overrides)) !== null && _d !== void 0 ? _d : parent.updateState.bind(parent),\n      requestReresolution: (_f = (_e = overrides.requestReresolution) === null || _e === void 0 ? void 0 : _e.bind(overrides)) !== null && _f !== void 0 ? _f : parent.requestReresolution.bind(parent),\n      addChannelzChild: (_h = (_g = overrides.addChannelzChild) === null || _g === void 0 ? void 0 : _g.bind(overrides)) !== null && _h !== void 0 ? _h : parent.addChannelzChild.bind(parent),\n      removeChannelzChild: (_k = (_j = overrides.removeChannelzChild) === null || _j === void 0 ? void 0 : _j.bind(overrides)) !== null && _k !== void 0 ? _k : parent.removeChannelzChild.bind(parent)\n    };\n  }\n  exports.createChildChannelControlHelper = createChildChannelControlHelper;\n  const registeredLoadBalancerTypes = {};\n  let defaultLoadBalancerType = null;\n  function registerLoadBalancerType(typeName, loadBalancerType, loadBalancingConfigType) {\n    registeredLoadBalancerTypes[typeName] = {\n      LoadBalancer: loadBalancerType,\n      LoadBalancingConfig: loadBalancingConfigType\n    };\n  }\n  exports.registerLoadBalancerType = registerLoadBalancerType;\n  function registerDefaultLoadBalancerType(typeName) {\n    defaultLoadBalancerType = typeName;\n  }\n  exports.registerDefaultLoadBalancerType = registerDefaultLoadBalancerType;\n  function createLoadBalancer(config, channelControlHelper) {\n    const typeName = config.getLoadBalancerName();\n    if (typeName in registeredLoadBalancerTypes) {\n      return new registeredLoadBalancerTypes[typeName].LoadBalancer(channelControlHelper);\n    } else {\n      return null;\n    }\n  }\n  exports.createLoadBalancer = createLoadBalancer;\n  function isLoadBalancerNameRegistered(typeName) {\n    return typeName in registeredLoadBalancerTypes;\n  }\n  exports.isLoadBalancerNameRegistered = isLoadBalancerNameRegistered;\n  function getFirstUsableConfig(configs, fallbackTodefault = false) {\n    for (const config of configs) {\n      if (config.getLoadBalancerName() in registeredLoadBalancerTypes) {\n        return config;\n      }\n    }\n    if (fallbackTodefault) {\n      if (defaultLoadBalancerType) {\n        return new registeredLoadBalancerTypes[defaultLoadBalancerType].LoadBalancingConfig();\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n  exports.getFirstUsableConfig = getFirstUsableConfig;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function validateLoadBalancingConfig(obj) {\n    if (!(obj !== null && typeof obj === 'object')) {\n      throw new Error('Load balancing config must be an object');\n    }\n    const keys = Object.keys(obj);\n    if (keys.length !== 1) {\n      throw new Error('Provided load balancing config has multiple conflicting entries');\n    }\n    const typeName = keys[0];\n    if (typeName in registeredLoadBalancerTypes) {\n      return registeredLoadBalancerTypes[typeName].LoadBalancingConfig.createFromJson(obj[typeName]);\n    } else {\n      throw new Error(`Unrecognized load balancing config name ${typeName}`);\n    }\n  }\n  exports.validateLoadBalancingConfig = validateLoadBalancingConfig;\n});","lineCount":103,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[5,0,3,0],[6,0,4,0],[7,0,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,2,18,0,"Object"],[20,8,18,6],[20,9,18,7,"defineProperty"],[20,23,18,21],[20,24,18,22,"exports"],[20,31,18,29],[20,33,18,31],[20,45,18,43],[20,47,18,45],[21,4,18,47,"value"],[21,9,18,52],[21,11,18,54],[22,2,18,59],[22,3,18,60],[22,4,18,61],[23,2,19,0,"exports"],[23,9,19,7],[23,10,19,8,"validateLoadBalancingConfig"],[23,37,19,35],[23,40,19,38,"exports"],[23,47,19,45],[23,48,19,46,"getFirstUsableConfig"],[23,68,19,66],[23,71,19,69,"exports"],[23,78,19,76],[23,79,19,77,"isLoadBalancerNameRegistered"],[23,107,19,105],[23,110,19,108,"exports"],[23,117,19,115],[23,118,19,116,"createLoadBalancer"],[23,136,19,134],[23,139,19,137,"exports"],[23,146,19,144],[23,147,19,145,"registerDefaultLoadBalancerType"],[23,178,19,176],[23,181,19,179,"exports"],[23,188,19,186],[23,189,19,187,"registerLoadBalancerType"],[23,213,19,211],[23,216,19,214,"exports"],[23,223,19,221],[23,224,19,222,"createChildChannelControlHelper"],[23,255,19,253],[23,258,19,256],[23,263,19,261],[23,264,19,262],[24,2,20,0],[25,0,21,0],[26,0,22,0],[27,0,23,0],[28,0,24,0],[29,0,25,0],[30,0,26,0],[31,0,27,0],[32,2,28,0],[32,11,28,9,"createChildChannelControlHelper"],[32,42,28,40,"createChildChannelControlHelper"],[32,43,28,41,"parent"],[32,49,28,47],[32,51,28,49,"overrides"],[32,60,28,58],[32,62,28,60],[33,4,29,4],[33,8,29,8,"_a"],[33,10,29,10],[33,12,29,12,"_b"],[33,14,29,14],[33,16,29,16,"_c"],[33,18,29,18],[33,20,29,20,"_d"],[33,22,29,22],[33,24,29,24,"_e"],[33,26,29,26],[33,28,29,28,"_f"],[33,30,29,30],[33,32,29,32,"_g"],[33,34,29,34],[33,36,29,36,"_h"],[33,38,29,38],[33,40,29,40,"_j"],[33,42,29,42],[33,44,29,44,"_k"],[33,46,29,46],[34,4,30,4],[34,11,30,11],[35,6,31,8,"createSubchannel"],[35,22,31,24],[35,24,31,26],[35,25,31,27,"_b"],[35,27,31,29],[35,30,31,32],[35,31,31,33,"_a"],[35,33,31,35],[35,36,31,38,"overrides"],[35,45,31,47],[35,46,31,48,"createSubchannel"],[35,62,31,64],[35,68,31,70],[35,72,31,74],[35,76,31,78,"_a"],[35,78,31,80],[35,83,31,85],[35,88,31,90],[35,89,31,91],[35,92,31,94],[35,97,31,99],[35,98,31,100],[35,101,31,103,"_a"],[35,103,31,105],[35,104,31,106,"bind"],[35,108,31,110],[35,109,31,111,"overrides"],[35,118,31,120],[35,119,31,121],[35,125,31,127],[35,129,31,131],[35,133,31,135,"_b"],[35,135,31,137],[35,140,31,142],[35,145,31,147],[35,146,31,148],[35,149,31,151,"_b"],[35,151,31,153],[35,154,31,156,"parent"],[35,160,31,162],[35,161,31,163,"createSubchannel"],[35,177,31,179],[35,178,31,180,"bind"],[35,182,31,184],[35,183,31,185,"parent"],[35,189,31,191],[35,190,31,192],[36,6,32,8,"updateState"],[36,17,32,19],[36,19,32,21],[36,20,32,22,"_d"],[36,22,32,24],[36,25,32,27],[36,26,32,28,"_c"],[36,28,32,30],[36,31,32,33,"overrides"],[36,40,32,42],[36,41,32,43,"updateState"],[36,52,32,54],[36,58,32,60],[36,62,32,64],[36,66,32,68,"_c"],[36,68,32,70],[36,73,32,75],[36,78,32,80],[36,79,32,81],[36,82,32,84],[36,87,32,89],[36,88,32,90],[36,91,32,93,"_c"],[36,93,32,95],[36,94,32,96,"bind"],[36,98,32,100],[36,99,32,101,"overrides"],[36,108,32,110],[36,109,32,111],[36,115,32,117],[36,119,32,121],[36,123,32,125,"_d"],[36,125,32,127],[36,130,32,132],[36,135,32,137],[36,136,32,138],[36,139,32,141,"_d"],[36,141,32,143],[36,144,32,146,"parent"],[36,150,32,152],[36,151,32,153,"updateState"],[36,162,32,164],[36,163,32,165,"bind"],[36,167,32,169],[36,168,32,170,"parent"],[36,174,32,176],[36,175,32,177],[37,6,33,8,"requestReresolution"],[37,25,33,27],[37,27,33,29],[37,28,33,30,"_f"],[37,30,33,32],[37,33,33,35],[37,34,33,36,"_e"],[37,36,33,38],[37,39,33,41,"overrides"],[37,48,33,50],[37,49,33,51,"requestReresolution"],[37,68,33,70],[37,74,33,76],[37,78,33,80],[37,82,33,84,"_e"],[37,84,33,86],[37,89,33,91],[37,94,33,96],[37,95,33,97],[37,98,33,100],[37,103,33,105],[37,104,33,106],[37,107,33,109,"_e"],[37,109,33,111],[37,110,33,112,"bind"],[37,114,33,116],[37,115,33,117,"overrides"],[37,124,33,126],[37,125,33,127],[37,131,33,133],[37,135,33,137],[37,139,33,141,"_f"],[37,141,33,143],[37,146,33,148],[37,151,33,153],[37,152,33,154],[37,155,33,157,"_f"],[37,157,33,159],[37,160,33,162,"parent"],[37,166,33,168],[37,167,33,169,"requestReresolution"],[37,186,33,188],[37,187,33,189,"bind"],[37,191,33,193],[37,192,33,194,"parent"],[37,198,33,200],[37,199,33,201],[38,6,34,8,"addChannelzChild"],[38,22,34,24],[38,24,34,26],[38,25,34,27,"_h"],[38,27,34,29],[38,30,34,32],[38,31,34,33,"_g"],[38,33,34,35],[38,36,34,38,"overrides"],[38,45,34,47],[38,46,34,48,"addChannelzChild"],[38,62,34,64],[38,68,34,70],[38,72,34,74],[38,76,34,78,"_g"],[38,78,34,80],[38,83,34,85],[38,88,34,90],[38,89,34,91],[38,92,34,94],[38,97,34,99],[38,98,34,100],[38,101,34,103,"_g"],[38,103,34,105],[38,104,34,106,"bind"],[38,108,34,110],[38,109,34,111,"overrides"],[38,118,34,120],[38,119,34,121],[38,125,34,127],[38,129,34,131],[38,133,34,135,"_h"],[38,135,34,137],[38,140,34,142],[38,145,34,147],[38,146,34,148],[38,149,34,151,"_h"],[38,151,34,153],[38,154,34,156,"parent"],[38,160,34,162],[38,161,34,163,"addChannelzChild"],[38,177,34,179],[38,178,34,180,"bind"],[38,182,34,184],[38,183,34,185,"parent"],[38,189,34,191],[38,190,34,192],[39,6,35,8,"removeChannelzChild"],[39,25,35,27],[39,27,35,29],[39,28,35,30,"_k"],[39,30,35,32],[39,33,35,35],[39,34,35,36,"_j"],[39,36,35,38],[39,39,35,41,"overrides"],[39,48,35,50],[39,49,35,51,"removeChannelzChild"],[39,68,35,70],[39,74,35,76],[39,78,35,80],[39,82,35,84,"_j"],[39,84,35,86],[39,89,35,91],[39,94,35,96],[39,95,35,97],[39,98,35,100],[39,103,35,105],[39,104,35,106],[39,107,35,109,"_j"],[39,109,35,111],[39,110,35,112,"bind"],[39,114,35,116],[39,115,35,117,"overrides"],[39,124,35,126],[39,125,35,127],[39,131,35,133],[39,135,35,137],[39,139,35,141,"_k"],[39,141,35,143],[39,146,35,148],[39,151,35,153],[39,152,35,154],[39,155,35,157,"_k"],[39,157,35,159],[39,160,35,162,"parent"],[39,166,35,168],[39,167,35,169,"removeChannelzChild"],[39,186,35,188],[39,187,35,189,"bind"],[39,191,35,193],[39,192,35,194,"parent"],[39,198,35,200],[40,4,36,4],[40,5,36,5],[41,2,37,0],[42,2,38,0,"exports"],[42,9,38,7],[42,10,38,8,"createChildChannelControlHelper"],[42,41,38,39],[42,44,38,42,"createChildChannelControlHelper"],[42,75,38,73],[43,2,39,0],[43,8,39,6,"registeredLoadBalancerTypes"],[43,35,39,33],[43,38,39,36],[43,39,39,37],[43,40,39,38],[44,2,40,0],[44,6,40,4,"defaultLoadBalancerType"],[44,29,40,27],[44,32,40,30],[44,36,40,34],[45,2,41,0],[45,11,41,9,"registerLoadBalancerType"],[45,35,41,33,"registerLoadBalancerType"],[45,36,41,34,"typeName"],[45,44,41,42],[45,46,41,44,"loadBalancerType"],[45,62,41,60],[45,64,41,62,"loadBalancingConfigType"],[45,87,41,85],[45,89,41,87],[46,4,42,4,"registeredLoadBalancerTypes"],[46,31,42,31],[46,32,42,32,"typeName"],[46,40,42,40],[46,41,42,41],[46,44,42,44],[47,6,43,8,"LoadBalancer"],[47,18,43,20],[47,20,43,22,"loadBalancerType"],[47,36,43,38],[48,6,44,8,"LoadBalancingConfig"],[48,25,44,27],[48,27,44,29,"loadBalancingConfigType"],[49,4,45,4],[49,5,45,5],[50,2,46,0],[51,2,47,0,"exports"],[51,9,47,7],[51,10,47,8,"registerLoadBalancerType"],[51,34,47,32],[51,37,47,35,"registerLoadBalancerType"],[51,61,47,59],[52,2,48,0],[52,11,48,9,"registerDefaultLoadBalancerType"],[52,42,48,40,"registerDefaultLoadBalancerType"],[52,43,48,41,"typeName"],[52,51,48,49],[52,53,48,51],[53,4,49,4,"defaultLoadBalancerType"],[53,27,49,27],[53,30,49,30,"typeName"],[53,38,49,38],[54,2,50,0],[55,2,51,0,"exports"],[55,9,51,7],[55,10,51,8,"registerDefaultLoadBalancerType"],[55,41,51,39],[55,44,51,42,"registerDefaultLoadBalancerType"],[55,75,51,73],[56,2,52,0],[56,11,52,9,"createLoadBalancer"],[56,29,52,27,"createLoadBalancer"],[56,30,52,28,"config"],[56,36,52,34],[56,38,52,36,"channelControlHelper"],[56,58,52,56],[56,60,52,58],[57,4,53,4],[57,10,53,10,"typeName"],[57,18,53,18],[57,21,53,21,"config"],[57,27,53,27],[57,28,53,28,"getLoadBalancerName"],[57,47,53,47],[57,48,53,48],[57,49,53,49],[58,4,54,4],[58,8,54,8,"typeName"],[58,16,54,16],[58,20,54,20,"registeredLoadBalancerTypes"],[58,47,54,47],[58,49,54,49],[59,6,55,8],[59,13,55,15],[59,17,55,19,"registeredLoadBalancerTypes"],[59,44,55,46],[59,45,55,47,"typeName"],[59,53,55,55],[59,54,55,56],[59,55,55,57,"LoadBalancer"],[59,67,55,69],[59,68,55,70,"channelControlHelper"],[59,88,55,90],[59,89,55,91],[60,4,56,4],[60,5,56,5],[60,11,57,9],[61,6,58,8],[61,13,58,15],[61,17,58,19],[62,4,59,4],[63,2,60,0],[64,2,61,0,"exports"],[64,9,61,7],[64,10,61,8,"createLoadBalancer"],[64,28,61,26],[64,31,61,29,"createLoadBalancer"],[64,49,61,47],[65,2,62,0],[65,11,62,9,"isLoadBalancerNameRegistered"],[65,39,62,37,"isLoadBalancerNameRegistered"],[65,40,62,38,"typeName"],[65,48,62,46],[65,50,62,48],[66,4,63,4],[66,11,63,11,"typeName"],[66,19,63,19],[66,23,63,23,"registeredLoadBalancerTypes"],[66,50,63,50],[67,2,64,0],[68,2,65,0,"exports"],[68,9,65,7],[68,10,65,8,"isLoadBalancerNameRegistered"],[68,38,65,36],[68,41,65,39,"isLoadBalancerNameRegistered"],[68,69,65,67],[69,2,66,0],[69,11,66,9,"getFirstUsableConfig"],[69,31,66,29,"getFirstUsableConfig"],[69,32,66,30,"configs"],[69,39,66,37],[69,41,66,39,"fallbackTodefault"],[69,58,66,56],[69,61,66,59],[69,66,66,64],[69,68,66,66],[70,4,67,4],[70,9,67,9],[70,15,67,15,"config"],[70,21,67,21],[70,25,67,25,"configs"],[70,32,67,32],[70,34,67,34],[71,6,68,8],[71,10,68,12,"config"],[71,16,68,18],[71,17,68,19,"getLoadBalancerName"],[71,36,68,38],[71,37,68,39],[71,38,68,40],[71,42,68,44,"registeredLoadBalancerTypes"],[71,69,68,71],[71,71,68,73],[72,8,69,12],[72,15,69,19,"config"],[72,21,69,25],[73,6,70,8],[74,4,71,4],[75,4,72,4],[75,8,72,8,"fallbackTodefault"],[75,25,72,25],[75,27,72,27],[76,6,73,8],[76,10,73,12,"defaultLoadBalancerType"],[76,33,73,35],[76,35,73,37],[77,8,74,12],[77,15,74,19],[77,19,74,23,"registeredLoadBalancerTypes"],[77,46,74,50],[77,47,74,51,"defaultLoadBalancerType"],[77,70,74,74],[77,71,74,75],[77,72,74,76,"LoadBalancingConfig"],[77,91,74,95],[77,92,74,96],[77,93,74,97],[78,6,75,8],[78,7,75,9],[78,13,76,13],[79,8,77,12],[79,15,77,19],[79,19,77,23],[80,6,78,8],[81,4,79,4],[81,5,79,5],[81,11,80,9],[82,6,81,8],[82,13,81,15],[82,17,81,19],[83,4,82,4],[84,2,83,0],[85,2,84,0,"exports"],[85,9,84,7],[85,10,84,8,"getFirstUsableConfig"],[85,30,84,28],[85,33,84,31,"getFirstUsableConfig"],[85,53,84,51],[86,2,85,0],[87,2,86,0],[87,11,86,9,"validateLoadBalancingConfig"],[87,38,86,36,"validateLoadBalancingConfig"],[87,39,86,37,"obj"],[87,42,86,40],[87,44,86,42],[88,4,87,4],[88,8,87,8],[88,10,87,10,"obj"],[88,13,87,13],[88,18,87,18],[88,22,87,22],[88,26,87,26],[88,33,87,33,"obj"],[88,36,87,36],[88,41,87,41],[88,49,87,49],[88,50,87,50],[88,52,87,52],[89,6,88,8],[89,12,88,14],[89,16,88,18,"Error"],[89,21,88,23],[89,22,88,24],[89,63,88,65],[89,64,88,66],[90,4,89,4],[91,4,90,4],[91,10,90,10,"keys"],[91,14,90,14],[91,17,90,17,"Object"],[91,23,90,23],[91,24,90,24,"keys"],[91,28,90,28],[91,29,90,29,"obj"],[91,32,90,32],[91,33,90,33],[92,4,91,4],[92,8,91,8,"keys"],[92,12,91,12],[92,13,91,13,"length"],[92,19,91,19],[92,24,91,24],[92,25,91,25],[92,27,91,27],[93,6,92,8],[93,12,92,14],[93,16,92,18,"Error"],[93,21,92,23],[93,22,92,24],[93,87,92,89],[93,88,92,90],[94,4,93,4],[95,4,94,4],[95,10,94,10,"typeName"],[95,18,94,18],[95,21,94,21,"keys"],[95,25,94,25],[95,26,94,26],[95,27,94,27],[95,28,94,28],[96,4,95,4],[96,8,95,8,"typeName"],[96,16,95,16],[96,20,95,20,"registeredLoadBalancerTypes"],[96,47,95,47],[96,49,95,49],[97,6,96,8],[97,13,96,15,"registeredLoadBalancerTypes"],[97,40,96,42],[97,41,96,43,"typeName"],[97,49,96,51],[97,50,96,52],[97,51,96,53,"LoadBalancingConfig"],[97,70,96,72],[97,71,96,73,"createFromJson"],[97,85,96,87],[97,86,96,88,"obj"],[97,89,96,91],[97,90,96,92,"typeName"],[97,98,96,100],[97,99,96,101],[97,100,96,102],[98,4,97,4],[98,5,97,5],[98,11,98,9],[99,6,99,8],[99,12,99,14],[99,16,99,18,"Error"],[99,21,99,23],[99,22,99,24],[99,65,99,67,"typeName"],[99,73,99,75],[99,75,99,77],[99,76,99,78],[100,4,100,4],[101,2,101,0],[102,2,102,0,"exports"],[102,9,102,7],[102,10,102,8,"validateLoadBalancingConfig"],[102,37,102,35],[102,40,102,38,"validateLoadBalancingConfig"],[102,67,102,65],[103,0,102,66],[103,3]],"functionMap":{"names":["<global>","createChildChannelControlHelper","registerLoadBalancerType","registerDefaultLoadBalancerType","createLoadBalancer","isLoadBalancerNameRegistered","getFirstUsableConfig","validateLoadBalancingConfig"],"mappings":"AAA;AC2B;CDS;AEI;CFK;AGE;CHE;AIE;CJQ;AKE;CLE;AME;CNiB;AOG;CPe"}},"type":"js/module"}]}