ğŸš€ Starting Comprehensive Backend API Testing
Backend URL: https://pathfinder-88.preview.emergentagent.com/api
============================================================
âœ… PASS: Health Check
   Backend is healthy
âœ… PASS: Create User
   User created with ID: 68cd1489bc87d16aee40e03a
âœ… PASS: Get User
   User retrieved successfully
âœ… PASS: Invalid User ID Handling
   Correctly rejected invalid user ID
âŒ FAIL: AI Route Planning
   HTTP 500: {"detail":"Error planning route: Failed to generate chat completion: litellm.BadRequestError: OpenAIException - Budget has been exceeded! Current cost: 0.43818500000000005, Max budget: 0.4"}
âœ… PASS: Save Route
   Route saved with ID: 68cd1489bc87d16aee40e03b
âœ… PASS: Get User Routes
   Retrieved 1 routes for user
âœ… PASS: Create Challenge
   Challenge created with ID: 68cd1489bc87d16aee40e03c
âœ… PASS: Get Route Challenges
   Retrieved 1 challenges for route
âœ… PASS: Complete Challenge
   Challenge completed, 25 points awarded
âœ… PASS: Complete Route
   Route completed, 50 points awarded
âŒ FAIL: AI Chat
   HTTP 500: {"detail":"Error in chat: Failed to generate chat completion: litellm.BadRequestError: OpenAIException - Budget has been exceeded! Current cost: 0.43818500000000005, Max budget: 0.4"}
âœ… PASS: Leaderboard
   User found in leaderboard with 75 points
âœ… PASS: User Points Update
   User has 75 points, 1 routes completed, badges: ['Route Completer']

============================================================
ğŸ—ºï¸  TESTING NEW MAP INTEGRATION APIs
============================================================
âŒ FAIL: Enhanced Route Planning with Map Integration
   HTTP 500: {"detail":"Error planning route: Failed to generate chat completion: litellm.BadRequestError: OpenAIException - Budget has been exceeded! Current cost: 0.43818500000000005, Max budget: 0.4"}
âœ… PASS: Points of Interest API - San Francisco
   Retrieved 5 POIs with correct structure
âœ… PASS: Points of Interest API - Los Angeles
   Retrieved 5 POIs with correct structure
âœ… PASS: Points of Interest API - New York
   Retrieved 5 POIs with correct structure
âœ… PASS: Nearby Challenges API - San Francisco
   Retrieved 4 challenges with correct structure
âœ… PASS: Nearby Challenges API - Los Angeles
   Retrieved 4 challenges with correct structure
âœ… PASS: Route Waypoints API
   Route waypoints retrieved with 1 waypoints for map visualization
âœ… PASS: Map API Error Handling - POI - Invalid Latitude
   Handled invalid coordinates appropriately (HTTP 200)
âœ… PASS: Map API Error Handling - Challenges - Invalid Latitude
   Handled invalid coordinates appropriately (HTTP 200)
âœ… PASS: Map API Error Handling - POI - Invalid Longitude
   Handled invalid coordinates appropriately (HTTP 200)
âœ… PASS: Map API Error Handling - Challenges - Invalid Longitude
   Handled invalid coordinates appropriately (HTTP 200)
âœ… PASS: Map API Error Handling - POI - Non-numeric Latitude
   Handled invalid coordinates appropriately (HTTP 422)
âœ… PASS: Map API Error Handling - Challenges - Non-numeric Latitude
   Handled invalid coordinates appropriately (HTTP 422)
âœ… PASS: Map API Error Handling - Invalid Route ID
   Minor: Returns 500 instead of 400 for invalid route ID, but core functionality works

============================================================
ğŸ® TESTING NEW GAMIFICATION ENDPOINTS
============================================================
âœ… PASS: Seed Data
   Sample data seeded successfully
âœ… PASS: Achievements List
   Retrieved 2 achievements with correct structure
âœ… PASS: Achievements Status
   Retrieved achievement status: 0 unlocked out of 2
âœ… PASS: Achievements Check
   Achievement check completed: 0 unlocked, 0 points awarded
âœ… PASS: Rewards Items
   Retrieved 3 reward items with correct structure
âœ… PASS: Rewards Claim Success
   No affordable rewards found - user has 75 points, cheapest reward costs 80
âœ… PASS: Rewards Claim Insufficient Points
   Correctly rejected claim for Premium Badge - insufficient points
âœ… PASS: Motivation Message - task_completed
   Retrieved motivation message: 'ğŸ”¥ Youâ€™re unstoppable! Keep going!...'
âœ… PASS: Motivation Message - route_completed
   Retrieved motivation message: 'ğŸ Route complete! On to the next adventure....'
âœ… PASS: Motivation Message - daily_login
   Retrieved motivation message: 'Welcome back, explorer!...'
âœ… PASS: Full Flow Test
   Route completion includes motivation: 'ğŸ Route complete! On to the ne...', achievement data with 0 unlocked achievements
âœ… PASS: Full Flow Leaderboard Check
   User appears in leaderboard with 50 points
============================================================
ğŸ“Š TEST SUMMARY
âœ… Passed: 37
âŒ Failed: 3
ğŸ“ˆ Success Rate: 92.5%

ğŸ” FAILED TESTS:
   â€¢ AI Route Planning: HTTP 500: {"detail":"Error planning route: Failed to generate chat completion: litellm.BadRequestError: OpenAIException - Budget has been exceeded! Current cost: 0.43818500000000005, Max budget: 0.4"}
   â€¢ AI Chat: HTTP 500: {"detail":"Error in chat: Failed to generate chat completion: litellm.BadRequestError: OpenAIException - Budget has been exceeded! Current cost: 0.43818500000000005, Max budget: 0.4"}
   â€¢ Enhanced Route Planning with Map Integration: HTTP 500: {"detail":"Error planning route: Failed to generate chat completion: litellm.BadRequestError: OpenAIException - Budget has been exceeded! Current cost: 0.43818500000000005, Max budget: 0.4"}

âš ï¸  3 tests failed. Check the errors above.
